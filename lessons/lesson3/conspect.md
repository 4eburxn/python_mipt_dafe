# Типы данных: числа, списки, кортежи

**Содержание:**

- [Общие сведения о типах данных](#общие-сведения-о-типах-данных)
- [Числовые типы данных](#числовые-типы-данных)
    - [Целочисленные литералы](#целочисленные-литералы)
    - [Литералы чисел с плавающей точкой](#литералы-чисел-с-плавающей-точкой)
    - [Литералы комплексных числе](#литералы-комплексных-чисел)
    - [Логический тип данных](#логический-тип-данных)
    - [Преобразования цичловых типов](#преобразования-числовых-типов)
    - [Арифметические операции](#арифметические-операции)
    - [Логические операции](#логические-операции)
    - [Битовые операции](#битовые-операции)
- [Последовательности и итерируемые объекты](#последовательности-и-итерируемые-объекты)
- [Кортежи](#кортежи)
- [Списки](#списки)

## Общие сведения о типах данных

Как нам известно из [прошлой лекции](../lesson2/conspect.md
), в Python существуют переменные. Переменные являются ссылками на некоторые данные в памяти компьютера. Данные, на которые ссылаются переменные, называются *объектами* (objects). В отличие от переменных, которые не являются типизированными, объекты имеют строго заданный тип данных. Тип данных определяет значения, которые может принимать данный объект, набор операций, поддерживаемых данным объектом, его атрибуты, поддерживает ли объект хранение элементов, и какие ограничения накладываются на элементы, если поддерживает.

Все типы данных в Python делятся на две основные группы: изменяемые (*mutable*) и неизменяемые (*immutable*). Объекты изменяемых типов данных могут менять свое значение в процессе выполнения программы. Объекты неизменяемых - не могут.

Для определения типа данных объекта, с которым связана та или иная переменная, в Python существует специальная функция `type()`, принимающая на вход объект Python.

*Код:*
```Python
num = 5
print(type(5), type(5).__name__, sep='\n')
```

*Вывод:*
```Console
<class 'int'>
int
```
В Python реализованы основные типы данных: числа, стоки, кортежи, списки, множества и словари. Также при необходимости пользователь может самостоятельно определить свой тип данных, называемый *классом*. Но это тема совершенно другой лекции.

## Числовые типы данных

В Python реализованы следующие числовые типы данных: целые числа, числа с плавающей точкой и комплексные числа. Также для работы с числами в стандартной библиотеки Python существуют модули `decimal` и `fractions`, но они в рамках нашего курса обсуждаться не будут. 

Числовые типы данных являются неизменяемыми. Отсюда следует, что почти любые операции над числами приводят к созданию нового объекта числового типа данных и его аллокации в памяти компьюетра. Мы говорим "почти", так как Python заранее аллоцирует в памяти объекты типа int, чье значение лежит в диапазоне от -5 до 256. Таким образом, если результатом операции над числами будет являться целое число в указанном диапазоне, создание нового объекта происходить не будет. Все, что сделает интерпретатор - перепривяжет идентефикатор.

*Пример 1*:
```Python
num = 1
print(id(num))

num += 5
print(id(num))
```
*Результат*:
```Console
140706836767528
140706836767688
```

*Пример 2*:

```Python
num1 = 5
num2 = 10
num3 = 5

print(id(num1) == id(num2 - num3) == id(num3))
```

*Результат*:
```Console
True
```

*Пример 3*:
```Python
num1 = 500
num2 = 1000
num3 = 500

print(
    id(num1) == id(num3),
    id(num1) == id(num2 - num3),
    id(num3) == id(num2 - num1),
    sep='\n'
)
```

*Результат*:
```Console
False
False
False
```

### Целочисленные литералы

Для начала обсудим целочисленные литералы. В Python целочисленные литералы могут иметь десятичный, двоичный, восмеричный и шестнадцатеричный вид. 

*Пример целочисленных литералов:*

```Python
1, 23, 4567     # десятичные литералы
0b101, 0b11011  # двоичные литералы
0o1, 0o6645     # восьмеричные литералы
0x1, 0xDA5      # шестандцатеричные литералы
```

Также для читабельности числовых литералов вы можете разделять разряды с помощью нижнего подчеркивания. Эта информация в равной степени применима ко всем числовым типам данных.

*Пример использования разделителей:*
```Python
1_000_000_000
0xF1c5_910D_FF0A
```

В отличие от языков программирования типа C и C++ максимальное (и минимальное) значение целочисленного типа данных не имеет заранее обговоренного ограничения и упирается в количество свободной памяти компьютера. С одной стороны, это является плюсом, т.к. при работе с Python вы не будете задаваться вопросами о переполнении даже при работе с очень большими числами (см. длинная арифметика), с другой стороны, особенности хранения целых чисел, позволяющие проворачивать подобное, накладывают заметные ограничения на производительность.

### Литералы чисел с плавающей точкой

Литералы чисел с плавающей точкой представляют собой последовательность десятичных чисел, включающую точку, суффикс экспоненты (символ e, за которым опционально следует знак и как минимум одна десятичная цифра) или и точку, и суффикс. Первым символом числа с плавающе точкой не может быть символ экспоненты, им может быть или цифра, или точка.

*Примеры литералов*:

```Python
0.      0.0     .0
1.      1.0      1e0      1.e0
```

Числа с плавающей точкой в Python являются аналогом чисел с плавающей точкой в С: они имеют те же ограничения, ту же точность, а их значения хранятся аналогичным образом.

### Литералы комплексных чисел

Комплексные числа представляют собой алгебраическую сумму реального числа с плавающей точкой с мнимым числом с плавающей точкой. Доступ к мнимой и реальной части комплексного числа осуществляется через атрибуты чтения `.real` и `.imag`.

*Примеры литералов:*

```Python
0j      0.j     0.0j      .0j
1j      1.j     1.0j      1e0j
1.e0j   1.0e0j
```

### Логический тип данных

Формально, логический тип является отдельным типом данных. Однако, фактически, он является подклассом типа `int`, т.е. целых чисел. Булевый тип данных имеет всего два значения: правда и ложь. Для этих значений существуют специальные константы-синглтоны `True` и `False`, соответственно, которые также имеют свои числовые эквиваленты: 1 и 0. Почти любые данные в Python могут быть представлены булевым значением: любое число, отличное от 0 в булевом контексте принимает значение True, любая непусткая коллекция также принимает значение True. 0, пустая коллекция и синглтон `None` принимают значение False.

Также вы можете преобразовать данные в булево значение явным образом, используя функцию `bool()`. Однако данная практика не рекомендована, поскольку python-way - это неявное преобразование данных к логическому типу в булевом контексте.

*Пример*:
```Python
# рекомендованный стиль
if x:
    ...

# нежелательный стиль
if bool(x):
    ...
```

### Преобразования числовых типов

В Python вы можете осуществлять арифметические и логические операции между значениями любых числовых типов данных. В случае, если операнды имеют различные числовые типы данных, Python осуществит неявное преобразование  операнда с "меньшим" типом данных к "большему" типу данных. Числовые типы данных в порядке от "меньшего" типа, к "большему": целые числа, числа с плавающей точкой, комплексные числа. В случае необходимости вы также можете осуществить явное преобразование типов, используя встроенные функции `int()`, `float()` и `complex()`. Функция complex() принимает на вход два числа: действительную и мнимую часть. Также комплексные числа не могут быть преобразованы в целые числа или числа с плавающей точкой напрямую, из-за неоднозначности преобразования.

Функция int() отбрасывает дробную часть, в случае ее наличия. Также, в отличие от других функций, int() может быть вызвана с двумя аргументами - строка, содержащая в себе число, и основание системы счисление - число от 2 до 36. Для систем счисления с основанием большим 10 необходимо использовать соответствующие буквы англиского алфавита для обозначения цифр.

*Пример*:
```Python
print(int('abba'), 36)
```
*Вывод*:
```
481222
```

Помимо объектов числовых типов данных, функции int(), float() и complex() могут принимать на вход строки, содержащие допустимые числовые литералы, знак числа, а также ведущие и завершающие пробелы.

### Арифметические операции

В целом, числовые типы данных поддерживают классический набор арифметически операций, которые работают очевидным образом. Однако мы уделим отдельное внимание делению.

В Python существует три вида операций деления: истинное деление (/), целочисленное деление (//) и модульное деление (%). Результатом истинного деления будет число типа float, даже если оба операнда были целыми числами. Однако, если вы хотите себя обезопасить и написать программу, обратно совместимую с программами, написанными на Python v2, используйте преобразование одного из операндов к типу float.

*Пример*:
```Python
num1 = 1
num2 = 2

# чуть медленнее
float(num1) / num2

# чуть быстрее
1.0 * num1 / num2
```

Результат целочисленного деления - целая часть от деления, модульного - остаток. Для получения и целой, и дробной части в одно действие, вы можете использовать встроенную функцию `divmod()`.

Для возведения в степень используется бинарная операция ** или втроенная функция `pow()`.

*Примеры возведения в степень*:
```Python
print(3 ** 4)
print(pow(3, 4))
print(pow(3, 4, 8))     # (3 ** 4) % 8
```

*Вывод*:
```Python
81
81
1
```

### Логические операции

Числовые типы данных могут быть использованы с логическими операндами. Сравнение на равенство/неравенство применимо ко всем числовым типам данных. Логические операции порядка (<, <=,>, >=) могут быть использованы только с некомплексными числами, в противном случае будет вызываться исключение.

Результатом выполнения логических операций является булево значение. Также логические операции могут объединяться в сложные логические выражения с помощью бинарных операторов `and` и `or`.
Операторы and и or являются "ленивыми": второй аргумент оператора and вычисляется только в том случае, когда первый принимает значение True; второй аргумент оператора or вычисляется только если первый принимает значение False.

Также сложные условия могут заменяться на последовательность логических операторов.

*Пример:*

```Python
a, b, c = 1, 2, 3

# сложное условие
if a < b and b < c:
    ...

# последовательность операторов
if a < b < c: # a < b and b < c:
    ...

```

### Битовые операции

Целые числа поддерживают битовые операции: сдвиг (<<, >>), инверсия (~), битовое и (&), битовое или (|), не или (^).

## Последовательности и итерируемые объекты

## Кортежи

## Списки
